---
import Anchor from '@components/ui/Anchor.astro';
import Icon from '@components/shared/Icon.astro';
import articles from '@data/articles.json';
---
<ul class="list-tiles">
  {
    Object.values(articles).map((article) => (
      <li class="tile-item">
        <Anchor href={article.url} target="_blank" rel="noopener noreferrer" class="headline">{article.title}</Anchor>
        <span class="publisher">Published by: <Anchor href={article.publisherURL} target="_blank" rel="noopener noreferrer">{article.publisher}</Anchor></span>
        <Anchor class="media" aria-hidden="true">
          <Icon slot="iconRight" name="arrow-up-right" />
        </Anchor>
      </li>
    ))
  }
</ul>
<style>
  ul.list-tiles {
    position: relative;
    padding-top: 80px;
    padding-bottom: 75px;
    gap: var(--gap);
    & > li.tile-item {
      position: relative;
      display: flex;
      flex-direction: row;
      width: 100%;
      gap: 16px;
      padding: 3px;
      border-radius: 24px;
      background-color: #EDEDED;
      text-decoration: none;
      opacity: 1;
      transform: translateY(20px);
      transition: box-shadow 150ms, transform 150ms;
      @starting-style {
        opacity: 0;
        transform: translateY(20px)
      }
      @media (hover: hover) {
        &:hover {
          background-color: #EDEDED
        }
      }
      &:focus-visible {
        outline: 2px solid var(--color-focus);
        outline-offset: 2px
      }
      & > .media {
        display: block;
        width: fit-content;
        aspect-ratio: 1 / 1;
        border-radius: 24px;
        background-color: var(--color-fill-tertiary);
        overflow: hidden;
        & > svg {
          width: 100%;
          height: 100%;
          object-fit: cover;
          object-position: center;
          transition: transform 150ms;
          @media (hover: hover) {
            .tile:hover & {
              color: var(--color-)
            }
          }
        }
      }
      & > a.headline {
        font-family: var(--font-family-mono);
        font-weight: var(--font-weight-semibold);
        font-size: var(--font-size-18);
        line-height: var(--line-height-24);
        color: var(--color-label-primary);
        & > span.publisher {
          font-family: var(--font-family-mono);
          font-weight: var(--font-weight-medium);
          font-size: var(--font-size-14);
          line-height: var(--line-height-20);
          color: var(--color-label-secondary);
          & > a {
            position: relative;
            border-radius: 3px;
            background-color: var(--color-);
            @media (hover: hover) {
              &:hover {
                color: var(--color-internet-blue)
              }
            }
          }
        }
      }
    }
  }
  @media screen (max-width: 768px) {
    ul.tiles-list {
      --gap: 16px
    }
  }
  @media screen (min-width: 768px) {
    ul.tiles-list {
      --gap: 24px
    }
  }
</style>